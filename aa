const headers = resp.headers;
        const subkey = Object.keys(headers).filter(k => /SUBSCRIPTION-USERINFO/i.test(k))[0];
        const userinfo = headers[subkey];
        if (!userinfo) {
            $.notify("ğŸš€ [æœºåœºæµé‡]", `âŒ æœºåœºï¼š${sub.name} æœªæä¾›æµé‡ä¿¡æ¯ï¼`);
        }
        const KEY_o_now = "o_now" + sub.name;
        const KEY_today_flow = "today_flow" + sub.name;
        $.log(userinfo);
        const upload_k = Number(userinfo.match(/upload=(\d+)/)[1]);
        const download_k = Number(userinfo.match(/download=(\d+)/)[1]);
        const total_k = Number(userinfo.match(/total=(\d+)/)[1]);
        const expire_time = userinfo.match(/expire=(\d+)/)
        let expires = "æ— ä¿¡æ¯"
        if (expire_time) {
            expires = formatTime(Number(expire_time[1] * 1000));
        }

        const residue_m =
            total_k / 1048576 - download_k / 1048576 - upload_k / 1048576;
        const residue = residue_m.toFixed(2).toString();
        const dnow = new Date().getTime().toString();
        const utime = dnow - $.read(KEY_o_now);
        const todayflow = $.read(KEY_today_flow) - residue;
        $.write(residue, KEY_today_flow);
        $.write(dnow, KEY_o_now);
        const title = `ğŸš€ [æœºåœºæµé‡] ${sub.name}`;
        const hutime = parseInt(utime / 3600000);
        const mutime = (utime / 60000) % 60;
        const subtitle = `å‰©ä½™æµé‡: ${(residue_m / 1024).toFixed(2)} G`;
        const details = `
ğŸ“Œ [ä½¿ç”¨æƒ…å†µ]
${
            hutime == 0
                ? "åœ¨è¿‡å»çš„" +
                mutime.toFixed(1) +
                "åˆ†é’Ÿå†…ä½¿ç”¨äº†: " +
                todayflow.toFixed(2) +
                " Mæµé‡"
                : "åœ¨è¿‡å»çš„" +
                hutime +
                "æ—¶ " +
                mutime.toFixed(1) +
                "åˆ†é’Ÿå†…ä½¿ç”¨äº†: " +
                todayflow.toFixed(2) +
                " Mæµé‡"
        }
ğŸ“ [ç»Ÿè®¡]
æ€»ä¸Šä¼ : ${(upload_k / 1073741824).toFixed(2)} G
æ€»ä¸‹è½½: ${(download_k / 1073741824).toFixed(2)} G
ğŸ› [åˆ°æœŸæ—¶é—´]
${expires}`;

        if (sub.icon) {
            $.notify(title, subtitle, details, {"media-url": sub.icon});
        } else {
            $.notify(title, subtitle, details);
        }
    }
    
    
    
    
    //
    
    function formatTime(timestamp) {
    const date = new Date(timestamp);
    return `${date.getFullYear()}å¹´${date.getMonth() +
    1}æœˆ${date.getDate()}æ—¥${date.getHours()}æ—¶`;
}
